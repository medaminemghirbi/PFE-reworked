<!DOCTYPE html>
<html>
<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>

<!-- Sidebar -->
<div class="w3-sidebar w3-light-grey w3-bar-block" style="width:16%">
  <app-admin-siderbar></app-admin-siderbar>
</div>

<!-- Page Content -->
<div style="margin-left:20%">


  <br><br>

  <div id="wrapper">

    <div class="container">
  
      <div class="col" >
        <div class="alert alert-danger" role="alert" *ngIf="messageErr" >
           {{messageErr}}
          </div>
    </div>
  
    
    <div class="card shadow mb-4">
      <div class="card-header py-3">
          <h6 class="m-0 font-weight-bold text-primary">Users  </h6>
         
      </div>
      <form
      class="card-header py-3" >
      <div class="input-group">
          <input type="text" name="role" class="form-control" [(ngModel)]="searchedKeyword"  placeholder="Search for..." >
        
      </div>
      </form>
      <div class="card-body">
          <div class="table-responsive">
              <table class="table table-bordered" width="100%" *ngIf="dataArray">
                  <thead >
                    <tr >
                      <th scope="col" (click)="sort('id')" ># ID &nbsp;<i class="fa fa-sort"> </i>  </th>
                      <th scope="col" (click)="sort('title')" >Email &nbsp;<i class="fa fa-sort"> </i> </th>
                      <th scope="col" (click)="sort('lastname')" >Last name &nbsp;<i class="fa fa-sort"> </i> </th>
                      <th scope="col" (click)="sort('firstname')" >First name &nbsp;<i class="fa fa-sort"> </i> </th>
                      <th scope="col" (click)="sort('role')" >Role  &nbsp;<i class="fa fa-sort"> </i> </th>
                      <th scope="col" (click)="sort('role')" >Email Confirmed  &nbsp;<i class="fa fa-sort"> </i> </th>
                      <th scope="col">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                     
                    
                      <tr *ngFor="let item of dataArray | filter:searchedKeyword ; index as i" >
                        <th scope="row" > {{item.id}} </th>
                          <td> {{item.email}} </td>
                          <td> {{item.lastname}}</td>
                          <td> {{item.firstname}}</td>
                          <td> {{item.role}} </td>
                          <td  > &nbsp; &nbsp;
                           
                            <button *ngIf="item.email_confirmed===null " class="btn btn-outline-danger btn-lg" > false </button>
                             
                          
                            <button *ngIf="item.email_confirmed===true "class="btn btn-outline-success btn-lg" > {{item.email_confirmed}} </button>
                          </td>
                          <td>
                            <div *ngIf="item.role==='client' " > 
                            <a *ngIf="item.role==='client' " class="text-success"  [routerLink]="['/detail-client',item.id]"  >
                              <i  class="fas  fa-2x fa-eye"></i> </a> &nbsp;
                            <a *ngIf="item.role==='client' " class="text-danger" (click)="deleteclient(item.id , i)" > <i class="fas  fa-2x fa-trash-alt"></i> </a>
                          </div>
                          <div *ngIf="item.role==='freelancer' " > 
                            <a *ngIf="item.role==='freelancer' " class="text-success"  [routerLink]="['/detail-freelancer',item.id]"  >
                               <i  class="fas  fa-2x fa-eye"></i> </a>    
                              &nbsp;
                            <a *ngIf="item.role==='freelancer' " class="text-danger" (click)="deleteuser(item.id , i)" > <i class="fas  fa-2x fa-trash-alt"></i> </a>
                          </div>
                           
  
                          </td>
                        </tr>
                  </tbody>
           
                </table>
  
  
              </div>
  
      </div>
    </div>

    </div>

  
</div>


</div>



</body>
</html>
